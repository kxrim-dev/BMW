<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMW Markets and Museums Map</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDnWaoXk_uJOc-cXy1Fn1CUpGsBepw0qLs"></script>
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }
        .legend {
            background: white;
            padding: 10px;
            margin: 10px;
            border: 1px solid black;
            border-radius: 5px;
            font-family: Arial, sans-serif;
        }
        .legend div {
            margin-bottom: 5px;
        }
        .legend .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }
        .dark-mode {
            background-color: #181818;
            color: white;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 50.110924, lng: 8.682127 },
            zoom: 2,
            styles: [
                { elementType: "geometry", stylers: [{ color: "#242f3e" }] },
                { elementType: "labels.text.stroke", stylers: [{ color: "#242f3e" }] },
                { elementType: "labels.text.fill", stylers: [{ color: "#746855" }] },
                { featureType: "administrative", elementType: "geometry", stylers: [{ color: "#746855" }] },
                { featureType: "poi", elementType: "geometry", stylers: [{ color: "#283d6a" }] },
                { featureType: "poi.park", elementType: "geometry", stylers: [{ color: "#263c3f" }] },
                { featureType: "road", elementType: "geometry", stylers: [{ color: "#38414e" }] },
                { featureType: "road.highway", elementType: "geometry", stylers: [{ color: "#746855" }] },
                { featureType: "water", elementType: "geometry", stylers: [{ color: "#17263c" }] },
            ],
        });

        const markets = [
            { name: "BMW Markt München", position: { lat: 48.137154, lng: 11.576124 } },
            { name: "BMW Markt Berlin", position: { lat: 52.520008, lng: 13.404954 } },
            { name: "BMW Markt Hamburg", position: { lat: 53.551086, lng: 9.993682 } },
            { name: "BMW Markt Frankfurt", position: { lat: 50.110924, lng: 8.682127 } },
            { name: "BMW Markt Stuttgart", position: { lat: 48.775846, lng: 9.182932 } },
            { name: "BMW Markt New York", position: { lat: 40.712776, lng: -74.005974 } },
            { name: "BMW Markt Tokyo", position: { lat: 35.689487, lng: 139.691711 } },
            { name: "BMW Markt Dubai", position: { lat: 25.276987, lng: 55.296249 } },
            { name: "BMW Markt Sydney", position: { lat: -33.868820, lng: 151.209296 } },
            { name: "BMW Markt São Paulo", position: { lat: -23.550520, lng: -46.633308 } },
            { name: "BMW Markt Wien", position: { lat: 48.208176, lng: 16.373819 } },
            { name: "BMW Markt Salzburg", position: { lat: 47.809490, lng: 13.055010 } },
            { name: "BMW Markt Zürich", position: { lat: 47.376887, lng: 8.541694 } },
            { name: "BMW Markt Genf", position: { lat: 46.204391, lng: 6.143158 } },
            { name: "BMW Markt Mailand", position: { lat: 45.464664, lng: 9.188540 } },
            { name: "BMW Markt Paris", position: { lat: 48.856613, lng: 2.352222 } },
            { name: "BMW Markt London", position: { lat: 51.507351, lng: -0.127758 } }
        ];

        markets.forEach(market => {
            new google.maps.Marker({
                position: market.position,
                map,
                title: market.name,
                icon: {
                    url: "http://maps.google.com/mapfiles/ms/icons/orange-dot.png",
                },
            });
        });

        const museums = [
            { name: "BMW Museum München", position: { lat: 48.1767, lng: 11.5562 }, url: "https://www.bmw-welt.com/en.html" },
            { name: "BMW Museum Berlin", position: { lat: 52.5192, lng: 13.4061 }, url: "https://www.bmw-berlin.de" },
            { name: "BMW Museum Leipzig", position: { lat: 51.3397, lng: 12.3731 }, url: "https://www.bmw-leipzig.de" },
            { name: "BMW Museum Hamburg", position: { lat: 53.5503, lng: 10.0007 }, url: "https://www.bmw-hamburg.de" },
            { name: "BMW Museum Stuttgart", position: { lat: 48.78232, lng: 9.17702 }, url: "https://www.bmw-stuttgart.de" },
            { name: "BMW Museum New York", position: { lat: 40.758896, lng: -73.985130 }, url: "https://www.bmwusa.com" },
            { name: "BMW Museum Tokyo", position: { lat: 35.689487, lng: 139.691711 }, url: "https://www.bmw.co.jp" },
            { name: "BMW Museum Dubai", position: { lat: 25.204849, lng: 55.270783 }, url: "https://www.bmw-dubai.com" },
            { name: "BMW Museum Sydney", position: { lat: -33.868820, lng: 151.209296 }, url: "https://www.bmw.com.au" },
            { name: "BMW Museum São Paulo", position: { lat: -23.550520, lng: -46.633308 }, url: "https://www.bmw.com.br" }
        ];

        museums.forEach(museum => {
            const marker = new google.maps.Marker({
                position: museum.position,
                map,
                title: museum.name,
                icon: {
                    url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png",
                },
            });

            if (museum.url) {
                marker.addListener("click", () => {
                    window.open(museum.url, "_blank");
                });
            }
        });

        // Add legend
        const legend = document.createElement("div");
        legend.classList.add("legend", "dark-mode");
        legend.innerHTML = `
            <div><span class="color-box" style="background: orange;"></span>Märkte</div>
            <div><span class="color-box" style="background: blue;"></span>Museen</div>
        `;
        map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);
    }

    window.onload = initMap;
</script>
</body>
</html>
